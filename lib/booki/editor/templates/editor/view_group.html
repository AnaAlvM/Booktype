{% extends "base.html" %}

{% block header %}
<link type="text/css" href="/site_media/css/editor.css" rel="Stylesheet" />

<script type="text/javascript">
    $(function() {
	// we have to be very carefull when it comes to session timeout on server side !
        jQuery.booki.network._transport.connect({'poll': false, 'iteration': 1000});
    });
</script>
{% endblock %}


{% block content %}

<table border="0">
<tr>
 <td colspan="2">
   <h1>{{ group.name }}</h1>
 </td>
</tr>
<tr>
 <td valign="top" style="padding-right: 30px" width="200">
{{ group.description }}

<h3>Members</h3>
<ul>
{% for member in members %}
   <li>{{ member.username }}</li>
{% endfor %}
</ul>

<br/>
<br/>
{% if is_member %}
<form method="POST" action="remove/">
 <button>REMOVE ME FROM THIS GROUP</button>
</form>
<br/><br/>

<form method="POST" action="add_book/">
<select name="book">
{% for book in your_books %}
   <option value="{{book.url_title}}">{{ book.url_title }}</option>
{% endfor %}
</select>
<br/><br/>
<button>ADD THIS BOOK TO GROUP</button>
</form>
 
{% else %}
<form method="POST" action="join/">
 <button>JOIN THIS GROUP</button>
</form>

{% endif %}


 </td>
 <td valign="top">
<h2>Books</h2>
<ul>
{% for book in books %}
   <li><a href="{% url view_book  book.url_title %}">{{ book.title }}</a>
&nbsp;&nbsp;(<a href="remove_book/?book={{ book.url_title }}">remove</a>)
   </li>
   
{% endfor %}
</ul>


 </td>
</tr>
</table>

{% endblock %}
